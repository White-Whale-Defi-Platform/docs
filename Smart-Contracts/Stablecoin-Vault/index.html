
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="White Whale">
      
      
        <link rel="canonical" href="https://whitewhale.finance/Smart-Contracts/Stablecoin-Vault/">
      
      <link rel="icon" href="../../favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.9">
    
    
      
        <title>Stablecoin Vault - White Whale Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.120efc48.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.9647289d.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="green">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stablecoin-vault" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="White Whale Docs" class="md-header__button md-logo" aria-label="White Whale Docs" data-md-component="logo">
      
  
  <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 886.31 886.31"><defs><style>.cls-1{fill:#44b549;}.cls-2{fill:#0e0c0d;}.cls-3{fill:#fff;}</style></defs><circle class="cls-1" cx="443.16" cy="443.16" r="443.16"/><path class="cls-2" d="M1415,1000c0,198.86-139.89,365.06-326.64,405.55l-2.71-12.46a405.47,405.47,0,0,1-85.62,9.13c-201.29,0-372.74-150.26-398.8-349.52a409.47,409.47,0,0,1-3.42-52.7H585c0-229.17,185.79-415,415-415v12.74c221.79,0,402.22,180.44,402.22,402.22Z" transform="translate(-556.84 -556.84)"/><path class="cls-1" d="M1211.87,1315.65l-14.23-21.15a354.59,354.59,0,0,0,101.2-484.93l21.47-13.73a380.07,380.07,0,0,1-108.44,519.81Z" transform="translate(-556.84 -556.84)"/><path class="cls-1" d="M685.26,1213.11A380.24,380.24,0,0,1,672.6,807.37,382,382,0,0,1,810.45,670.9L823.18,693c-109.56,63.19-177.62,180.92-177.62,307.25a352.59,352.59,0,0,0,60.81,198.57Z" transform="translate(-556.84 -556.84)"/><path class="cls-1" d="M853.71,1298.88a332,332,0,0,1-131-480.21l21.29,14A305,305,0,0,0,693.69,1001c0,117.66,65.63,223,171.27,275Z" transform="translate(-556.84 -556.84)"/><path class="cls-1" d="M1321,1085.39l-24.66-6.47a307.51,307.51,0,0,0,10-77.92c0-168.9-137.41-306.31-306.31-306.31V669.2A331.79,331.79,0,0,1,1331.8,1001,333.19,333.19,0,0,1,1321,1085.39Z" transform="translate(-556.84 -556.84)"/><path class="cls-3" d="M1250.24,879c-60.42,92.07-114.22,64.17-178.48,51.7S972,986.29,972,986.29s.07-.23.11-.34c-1.22,2.23-2.41,4.48-3.55,6.76-2.06,4-3.92,8.19-5.7,12.48a63.92,63.92,0,0,1,2.12-13.8,89.81,89.81,0,0,1,4.55-13.29,94.83,94.83,0,0,1,8.38-15.35c10-64.38-43.19-89.15-110.36-127.91-74.81-43.16-41.33-90.24-41.33-90.24S699.73,876,784.13,1000.24,975.29,1159.61,864,1346.63c0,0,75.61,43.9,197.26,22.43-31.8-135.82-23.77-187,26.59-233.12l-5.49,2c-2,.67-4,1.16-6,1.7l-3,.79c-1,.24-2,.38-3.06.57-2,.36-4.08.7-6.12,1s-4.14.3-6.19.42c-1,0-2.06.1-3.09.12s-2.07-.08-3.1-.16c-2.06-.13-4.11-.28-6.14-.53,2-.62,4-1.13,5.92-1.63,1-.26,1.95-.48,2.92-.71l2.89-.89q2.86-.85,5.73-1.64,2.82-1,5.62-1.92c.94-.31,1.88-.58,2.8-.93l2.77-1.06c1.82-.74,3.7-1.31,5.5-2.1l5.44-2.27c1.83-.72,3.58-1.62,5.38-2.42q10.71-4.92,21.14-10.68l5-2.78c23.9-12,45-25.63,64.41-43C1300.51,963.23,1250.24,879,1250.24,879Z" transform="translate(-556.84 -556.84)"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            White Whale Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Stablecoin Vault
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/White-Whale-Defi-Platform/docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    White Whale Docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="White Whale Docs" class="md-nav__button md-logo" aria-label="White Whale Docs" data-md-component="logo">
      
  
  <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 886.31 886.31"><defs><style>.cls-1{fill:#44b549;}.cls-2{fill:#0e0c0d;}.cls-3{fill:#fff;}</style></defs><circle class="cls-1" cx="443.16" cy="443.16" r="443.16"/><path class="cls-2" d="M1415,1000c0,198.86-139.89,365.06-326.64,405.55l-2.71-12.46a405.47,405.47,0,0,1-85.62,9.13c-201.29,0-372.74-150.26-398.8-349.52a409.47,409.47,0,0,1-3.42-52.7H585c0-229.17,185.79-415,415-415v12.74c221.79,0,402.22,180.44,402.22,402.22Z" transform="translate(-556.84 -556.84)"/><path class="cls-1" d="M1211.87,1315.65l-14.23-21.15a354.59,354.59,0,0,0,101.2-484.93l21.47-13.73a380.07,380.07,0,0,1-108.44,519.81Z" transform="translate(-556.84 -556.84)"/><path class="cls-1" d="M685.26,1213.11A380.24,380.24,0,0,1,672.6,807.37,382,382,0,0,1,810.45,670.9L823.18,693c-109.56,63.19-177.62,180.92-177.62,307.25a352.59,352.59,0,0,0,60.81,198.57Z" transform="translate(-556.84 -556.84)"/><path class="cls-1" d="M853.71,1298.88a332,332,0,0,1-131-480.21l21.29,14A305,305,0,0,0,693.69,1001c0,117.66,65.63,223,171.27,275Z" transform="translate(-556.84 -556.84)"/><path class="cls-1" d="M1321,1085.39l-24.66-6.47a307.51,307.51,0,0,0,10-77.92c0-168.9-137.41-306.31-306.31-306.31V669.2A331.79,331.79,0,0,1,1331.8,1001,333.19,333.19,0,0,1,1321,1085.39Z" transform="translate(-556.84 -556.84)"/><path class="cls-3" d="M1250.24,879c-60.42,92.07-114.22,64.17-178.48,51.7S972,986.29,972,986.29s.07-.23.11-.34c-1.22,2.23-2.41,4.48-3.55,6.76-2.06,4-3.92,8.19-5.7,12.48a63.92,63.92,0,0,1,2.12-13.8,89.81,89.81,0,0,1,4.55-13.29,94.83,94.83,0,0,1,8.38-15.35c10-64.38-43.19-89.15-110.36-127.91-74.81-43.16-41.33-90.24-41.33-90.24S699.73,876,784.13,1000.24,975.29,1159.61,864,1346.63c0,0,75.61,43.9,197.26,22.43-31.8-135.82-23.77-187,26.59-233.12l-5.49,2c-2,.67-4,1.16-6,1.7l-3,.79c-1,.24-2,.38-3.06.57-2,.36-4.08.7-6.12,1s-4.14.3-6.19.42c-1,0-2.06.1-3.09.12s-2.07-.08-3.1-.16c-2.06-.13-4.11-.28-6.14-.53,2-.62,4-1.13,5.92-1.63,1-.26,1.95-.48,2.92-.71l2.89-.89q2.86-.85,5.73-1.64,2.82-1,5.62-1.92c.94-.31,1.88-.58,2.8-.93l2.77-1.06c1.82-.74,3.7-1.31,5.5-2.1l5.44-2.27c1.83-.72,3.58-1.62,5.38-2.42q10.71-4.92,21.14-10.68l5-2.78c23.9-12,45-25.63,64.41-43C1300.51,963.23,1250.24,879,1250.24,879Z" transform="translate(-556.84 -556.84)"/></svg>

    </a>
    White Whale Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/White-Whale-Defi-Platform/docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    White Whale Docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Developers SDKS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developers SDKS" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Developers SDKS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Developers-SDKS/White-Whale-Python-SDK/" class="md-nav__link">
        White Whale Python SDK
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Smart Contracts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Smart Contracts" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Smart Contracts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Community-Fund/" class="md-nav__link">
        Community
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Governance/" class="md-nav__link">
        Gov
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Profit-Check/" class="md-nav__link">
        Profit Check
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Stablecoin-Arb/" class="md-nav__link">
        Terra Stablecoin Arbitrage Contracts
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Stablecoin Vault
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Stablecoin Vault
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#state" class="md-nav__link">
    State
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instantiatemsg" class="md-nav__link">
    InstantiateMsg
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#executemsg" class="md-nav__link">
    ExecuteMsg
  </a>
  
    <nav class="md-nav" aria-label="ExecuteMsg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#receive" class="md-nav__link">
    Receive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flashloan" class="md-nav__link">
    FlashLoan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provideliquidity" class="md-nav__link">
    ProvideLiquidity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setstablecap" class="md-nav__link">
    SetStableCap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setadmin" class="md-nav__link">
    SetAdmin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addtowhitelist" class="md-nav__link">
    AddToWhitelist
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removefromwhitelist" class="md-nav__link">
    RemoveFromWhitelist
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setfee" class="md-nav__link">
    SetFee
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updatestate" class="md-nav__link">
    UpdateState
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#receive-hooks" class="md-nav__link">
    Receive Hooks
  </a>
  
    <nav class="md-nav" aria-label="Receive Hooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#withdrawliquidity" class="md-nav__link">
    WithdrawLiquidity
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#callbacks" class="md-nav__link">
    Callbacks
  </a>
  
    <nav class="md-nav" aria-label="Callbacks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aftersuccessfulloancallback" class="md-nav__link">
    AfterSuccessfulLoanCallback
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#querymsg" class="md-nav__link">
    QueryMsg
  </a>
  
    <nav class="md-nav" aria-label="QueryMsg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#state_1" class="md-nav__link">
    State
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vaultvalue" class="md-nav__link">
    VaultValue
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poolconfig" class="md-nav__link">
    PoolConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poolinfo" class="md-nav__link">
    PoolInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poolstate" class="md-nav__link">
    PoolState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poolresponse" class="md-nav__link">
    PoolResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fees" class="md-nav__link">
    Fees
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#feeresponse" class="md-nav__link">
    FeeResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vaultfee" class="md-nav__link">
    VaultFee
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estimatewithdrawfee" class="md-nav__link">
    EstimateWithdrawFee
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estimatewithdrawfeeresponse" class="md-nav__link">
    EstimateWithdrawFeeResponse
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Vesting/" class="md-nav__link">
        Vesting
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_7" type="checkbox" id="__nav_3_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_7">
          Tokenomics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tokenomics" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_7">
          <span class="md-nav__icon md-icon"></span>
          Tokenomics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokenomics/Airdrop/" class="md-nav__link">
        Airdrop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokenomics/LP-Emissions-Proxy/" class="md-nav__link">
        LP Emissions Proxy Contract
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokenomics/LP-Emissions/" class="md-nav__link">
        LP Emissions Contract
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_8" type="checkbox" id="__nav_3_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_8">
          Treasury
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Treasury" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_8">
          <span class="md-nav__icon md-icon"></span>
          Treasury
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../treasury/memory/" class="md-nav__link">
        Memory
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../treasury/treasury/" class="md-nav__link">
        Treasury
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_8_3" type="checkbox" id="__nav_3_8_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_8_3">
          Dapps
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Dapps" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_8_3">
          <span class="md-nav__icon md-icon"></span>
          Dapps
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../treasury/dapps/Anchor-dapp/" class="md-nav__link">
        Anchor Dapp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../treasury/dapps/Astroport-Dapp/" class="md-nav__link">
        Astroport Dapp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../treasury/dapps/Dapp-Base/" class="md-nav__link">
        Dapp Base
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../treasury/dapps/Terraswap-Dapp/" class="md-nav__link">
        Terraswap Dapp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../treasury/dapps/Vault-Dapp/" class="md-nav__link">
        Vault Dapp
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Protocol
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Protocol" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Protocol
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../protocol/Arch/" class="md-nav__link">
        White Whale Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Arb Vaults
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Arb Vaults" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Arb Vaults
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../protocol/Arb-Vaults/Arbitrage_Vaults/" class="md-nav__link">
        Arbitrage Exposure
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_3">
          Flash Loans
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Flash Loans" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Flash Loans
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../protocol/Flash-Loans/Flash_Loans/" class="md-nav__link">
        Flash Loans
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../protocol/Flash-Loans/Flash_Loans_CookBook/" class="md-nav__link">
        Cookbook
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_4">
          Governance
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Governance" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Governance
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../protocol/governance/Governance-Overview/" class="md-nav__link">
        White Whale Governance
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_5">
          Whale token
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Whale token" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Whale token
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../protocol/whale-token/Whale_token/" class="md-nav__link">
        Whale Token
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          User guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="User guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          User guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/Liquidity/" class="md-nav__link">
        Liquidity Providing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/Proposals-Voting/" class="md-nav__link">
        Governance Proposals & Voting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/Staking/" class="md-nav__link">
        Governance Staking V1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/Swap/" class="md-nav__link">
        Swapping
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/Vaults/" class="md-nav__link">
        Vaults
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/WebApp/" class="md-nav__link">
        WebApp
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#state" class="md-nav__link">
    State
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instantiatemsg" class="md-nav__link">
    InstantiateMsg
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#executemsg" class="md-nav__link">
    ExecuteMsg
  </a>
  
    <nav class="md-nav" aria-label="ExecuteMsg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#receive" class="md-nav__link">
    Receive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flashloan" class="md-nav__link">
    FlashLoan
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provideliquidity" class="md-nav__link">
    ProvideLiquidity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setstablecap" class="md-nav__link">
    SetStableCap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setadmin" class="md-nav__link">
    SetAdmin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addtowhitelist" class="md-nav__link">
    AddToWhitelist
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removefromwhitelist" class="md-nav__link">
    RemoveFromWhitelist
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setfee" class="md-nav__link">
    SetFee
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updatestate" class="md-nav__link">
    UpdateState
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#receive-hooks" class="md-nav__link">
    Receive Hooks
  </a>
  
    <nav class="md-nav" aria-label="Receive Hooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#withdrawliquidity" class="md-nav__link">
    WithdrawLiquidity
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#callbacks" class="md-nav__link">
    Callbacks
  </a>
  
    <nav class="md-nav" aria-label="Callbacks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aftersuccessfulloancallback" class="md-nav__link">
    AfterSuccessfulLoanCallback
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#querymsg" class="md-nav__link">
    QueryMsg
  </a>
  
    <nav class="md-nav" aria-label="QueryMsg">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#state_1" class="md-nav__link">
    State
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vaultvalue" class="md-nav__link">
    VaultValue
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poolconfig" class="md-nav__link">
    PoolConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poolinfo" class="md-nav__link">
    PoolInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poolstate" class="md-nav__link">
    PoolState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poolresponse" class="md-nav__link">
    PoolResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fees" class="md-nav__link">
    Fees
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#feeresponse" class="md-nav__link">
    FeeResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vaultfee" class="md-nav__link">
    VaultFee
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estimatewithdrawfee" class="md-nav__link">
    EstimateWithdrawFee
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estimatewithdrawfeeresponse" class="md-nav__link">
    EstimateWithdrawFeeResponse
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/White-Whale-Defi-Platform/docs/edit/master/docs/Smart-Contracts/Stablecoin-Vault.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="stablecoin-vault">Stablecoin Vault</h1>
<p>The Stablecoin Vault Contract is one of the flagship contracts of the White Whale protocol. Combined with a bot system, the Vault contract allows for in-house automated trading of UST in response to a de-pegging event or to just perform a simple arbitrage operation. The Stablecoin Vault also allows arbitrary users to request flashloans in return for a small fee. </p>
<h2 id="state">State</h2>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>whitelisted_contracts</code></td>
<td align="left">Vec<CanonicalAddr></td>
<td align="left">Addresses of whitelisted contracts</td>
</tr>
<tr>
<td align="left"><code>allow_non_whitelisted</code></td>
<td align="left">bool</td>
<td align="left">Boolean that indicates if non-whitelisted addresses are allowed to get a flashloan</td>
</tr>
<tr>
<td align="left"><code>anchor_money_market_address</code></td>
<td align="left">CanonicalAddr</td>
<td align="left">Contract address of Anchor Money Market system. This is used for depositing and withdrawing from Anchor</td>
</tr>
<tr>
<td align="left"><code>aust_address</code></td>
<td align="left">CanonicalAddr</td>
<td align="left">Contract address of aUST token</td>
</tr>
<tr>
<td align="left"><code>profit_check_address</code></td>
<td align="left">CanonicalAddr</td>
<td align="left">Contract address of Profit Check Contract.</td>
</tr>
</tbody>
</table>
<h2 id="instantiatemsg">InstantiateMsg</h2>
<pre><code class="language-rust">#[derive(Serialize, Deserialize, Clone, Debug, PartialEq, JsonSchema)]
pub struct InstantiateMsg {
    pub anchor_money_market_address: String,
    pub aust_address: String,
    pub profit_check_address: String,
    pub treasury_addr: String,
    pub asset_info: AssetInfo,
    pub token_code_id: u64,
    pub treasury_fee: Decimal,
    pub flash_loan_fee: Decimal,
    pub commission_fee: Decimal,
    pub stable_cap: Uint128,
    pub vault_lp_token_name: Option&lt;String&gt;,
    pub vault_lp_token_symbol: Option&lt;String&gt;,
}
</code></pre>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>anchor_money_market_address</code></td>
<td align="left">String</td>
<td align="left">Contract address of Anchor Money Market system. This is used for depositing and withdrawing from Anchor</td>
</tr>
<tr>
<td align="left"><code>aust_address</code></td>
<td align="left">String</td>
<td align="left">Contract address of aUST token</td>
</tr>
<tr>
<td align="left"><code>profit_check_address</code></td>
<td align="left">String</td>
<td align="left">Contract address of Profit Check Contract</td>
</tr>
<tr>
<td align="left"><code>treasury_address</code></td>
<td align="left">String</td>
<td align="left">Contract address of Treasury Contract</td>
</tr>
<tr>
<td align="left"><code>asset_info</code></td>
<td align="left">AssetInfo</td>
<td align="left">Struct detailing the token to be used for trading (the vault base token)</td>
</tr>
<tr>
<td align="left"><code>token_code_id</code></td>
<td align="left">u64</td>
<td align="left">The Stored Code Object ID for the LP token creator. This is used on instantiation to creation an LP token when the Vault is created</td>
</tr>
<tr>
<td align="left"><code>treasury_fee</code></td>
<td align="left">Decimal</td>
<td align="left">Configurable fee rate for the treasury contract.</td>
</tr>
<tr>
<td align="left"><code>commission_fee</code></td>
<td align="left">Decimal</td>
<td align="left">Fee on every profitable action on the vault, sent to the treasury.</td>
</tr>
<tr>
<td align="left"><code>stable_cap</code></td>
<td align="left">Uint128</td>
<td align="left">Initial UST_CAP value which represents the amount of liquid UST kept outside of Anchor</td>
</tr>
<tr>
<td align="left"><code>vault_lp_token_name</code></td>
<td align="left">Uint128</td>
<td align="left">Absolute max rate for community fund</td>
</tr>
<tr>
<td align="left"><code>vault_lp_token_symbol</code></td>
<td align="left">Uint128</td>
<td align="left">Absolute max rate for community fund</td>
</tr>
</tbody>
</table>
<h2 id="executemsg">ExecuteMsg</h2>
<pre><code class="language-rust">#[derive(Serialize, Deserialize, Clone, Debug, PartialEq, JsonSchema)]
#[serde(rename_all = &quot;snake_case&quot;)]
pub enum ExecuteMsg {
    Receive(Cw20ReceiveMsg),
    ProvideLiquidity {
        asset: Asset,
    },
    SetStableCap {
        stable_cap: Uint128,
    },
    SetFee {
        flash_loan_fee: Option&lt;Fee&gt;,
        treasury_fee: Option&lt;Fee&gt;,
        commission_fee: Option&lt;Fee&gt;
    },
    SetAdmin {
        admin: String,
    },
    AddToWhitelist {
        contract_addr: String,
    },
    RemoveFromWhitelist {
        contract_addr: String,
    },
    UpdateState {
        anchor_money_market_address: Option&lt;String&gt;,
        aust_address: Option&lt;String&gt;,
        profit_check_address: Option&lt;String&gt;,
        allow_non_whitelisted: Option&lt;bool&gt;,
    },
    FlashLoan {
        payload: FlashLoanPayload,
    },
    Callback(CallbackMsg),
}
</code></pre>
<h3 id="receive"><code>Receive</code></h3>
<p>Can be called during a CW20 token transfer when tokens are deposited into the Stablecoin Vault. Allows the token transfer to execute a <a href="./#receive-hooks">Receive Hook</a> as a subsequent action within the same transaction.</p>
<pre><code class="language-rust">#[derive(Serialize, Deserialize, Clone, Debug, PartialEq, JsonSchema)]
#[serde(rename_all = &quot;snake_case&quot;)]
pub enum ExecuteMsg {
    Receive {
        amount: Uint128,
        sender: HumanAddr,
        msg: Option&lt;Binary&gt;,
    }
}
</code></pre>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>amount</code></td>
<td align="left">Uint128</td>
<td align="left">Amount of tokens received</td>
</tr>
<tr>
<td align="left"><code>sender</code></td>
<td align="left">HumanAddr</td>
<td align="left">Sender of token transfer</td>
</tr>
<tr>
<td align="left"><code>msg</code>*</td>
<td align="left">Binary</td>
<td align="left">Base64-encoded JSON of <a href="./#receive-hooks">Receive Hook</a></td>
</tr>
</tbody>
</table>
<p>* = optional</p>
<h3 id="flashloan">FlashLoan</h3>
<p>Attempt to get a flashloan from the vault. The requested funds and callback message are encapsuled in the FlashLoanPayload struct. The provided callback should be the series of messages the caller wants to perform with the requested amount of funds. </p>
<p>If needed, funds are withdrawn from anchor. All incurred fees are paid by the borrower. Two calls to the profit_check logic surround the flashloan callback msg to ensure the trade only finalizes if the contract makes a profit.</p>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>requested_asset</code></td>
<td align="left">Asset</td>
<td align="left">Requested asset, contains amount an assetinfo</td>
</tr>
<tr>
<td align="left"><code>callback</code></td>
<td align="left">Binary</td>
<td align="left">The encoded callback msg provided by the calling contract</td>
</tr>
</tbody>
</table>
<pre><code class="language-javascript">{
  &quot;requested_asset&quot;: {
      &quot;info&quot;: {
          &quot;denom&quot;: &quot;uusd&quot;
      }
      &quot;amount&quot;: &quot;1000000&quot;
  }, 
  &quot;callback&quot;: &quot;&lt;binary&gt;&quot;, 
}
</code></pre>
<h3 id="provideliquidity">ProvideLiquidity</h3>
<p>Attempt to perform a deposit into the vault by providing UST. White Whale does not charge any additional fees on depositing.
In the event of a successful deposit, the address will receive newly minted LP tokens representing their share of the Vault's liquidity. These LP tokens are then required when an account wishes to withdraw liquidity.</p>
<p>This function should be called alongside a deposit of UST into the contract.</p>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>asset</code></td>
<td align="left">Asset</td>
<td align="left">Asset to be provided as liquidity. Includes asset info and amount.</td>
</tr>
</tbody>
</table>
<pre><code class="language-json">{
    &quot;provide_liquidity&quot;: {
        &quot;asset&quot;: {
            &quot;info&quot;: {
                &quot;native_token&quot;: { &quot;denom&quot;: &quot;uusd&quot; },
            },
            &quot;amount&quot;: &quot;1000000&quot;,
        }
}
</code></pre>
<h3 id="setstablecap">SetStableCap</h3>
<p>Change the UST_CAP parameter for the Stablecoin Vault which represents the cap of liquid UST kept in the vault. Deposits in excess of the cap will be deposited into anchor. Can only be called by the established Admin of the contract.</p>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>stable_cap</code></td>
<td align="left">Uint128</td>
<td align="left">New UST_CAP value to be set</td>
</tr>
</tbody>
</table>
<h3 id="setadmin">SetAdmin</h3>
<p>Change the established Admin for the Stablecoin Vault. Can only be called by the currently established Admin of the contract.</p>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>admin</code></td>
<td align="left">Addr</td>
<td align="left">Address of the new Admin.</td>
</tr>
</tbody>
</table>
<h3 id="addtowhitelist">AddToWhitelist</h3>
<p>Adds the provided address to the whitelist. Can only be called by Admin.</p>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>contract_addr</code></td>
<td align="left">Addr</td>
<td align="left">Address of the new whitelisted contract.</td>
</tr>
</tbody>
</table>
<h3 id="removefromwhitelist">RemoveFromWhitelist</h3>
<p>Removes the provided address from the whitelist. Can only be called by Admin.</p>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>contract_addr</code></td>
<td align="left">Addr</td>
<td align="left">Address of the whitelisted contract.</td>
</tr>
</tbody>
</table>
<h3 id="setfee">SetFee</h3>
<p>Update the fee information for 1 or more of the associated fee structures. Can only be called by Admin.</p>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>flash_loan_fee</code>*</td>
<td align="left">Fee</td>
<td align="left">New fee value for fees associated with non-whitelisted flashloans</td>
</tr>
<tr>
<td align="left"><code>treasury_fee</code>*</td>
<td align="left">Fee</td>
<td align="left">New fee values for fee allocation to the Treasury</td>
</tr>
</tbody>
</table>
<p>* = optional</p>
<h3 id="updatestate">UpdateState</h3>
<p>Update the state of the contract with the provided arguments.</p>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>anchor_money_market_address</code>*</td>
<td align="left">String</td>
<td align="left">New address for the anchor money market</td>
</tr>
<tr>
<td align="left"><code>aust_address</code>*</td>
<td align="left">String</td>
<td align="left">New aUST address</td>
</tr>
<tr>
<td align="left"><code>profit_check_address</code>*</td>
<td align="left">String</td>
<td align="left">New profit check contract address</td>
</tr>
<tr>
<td align="left"><code>allow_non_whitelisted</code>*</td>
<td align="left">bool</td>
<td align="left">New boolean for allowing non-whitelisted contracts to take out flashloans</td>
</tr>
</tbody>
</table>
<p>* = optional</p>
<h2 id="receive-hooks">Receive Hooks</h2>
<p>Payable functions when you send a payment to the contract with an appropriate message.</p>
<h3 id="withdrawliquidity"><code>WithdrawLiquidity</code></h3>
<p>Attempt to withdraw deposits. Fees are calculated and deducted. If the Vault has available funds in Anchor it will attempt to payout the withdrawal request by first withdrawing some funds from Anchor to fund the withdrawal request. Luna holdings are not eligible for withdrawal. LP tokens submitted with a withdrawal request will be burned. The Treasury withdraw fee is paid out by transfering ownership of a fraction of the LP tokens to the treasury contract. </p>
<pre><code class="language-rust">#[derive(Serialize, Deserialize, Clone, Debug, PartialEq, JsonSchema)]
#[serde(rename_all = &quot;snake_case&quot;)]
pub enum Cw20HookMsg {
    WithdrawLiquidity {},
}
</code></pre>
<h2 id="callbacks">Callbacks</h2>
<p>Callback Functions are used in conjunction with other ExecuteMsg functions in the Stablecoin Vault.</p>
<h3 id="aftersuccessfulloancallback"><code>AfterSuccessfulLoanCallback</code></h3>
<p>After a successful loan happens, check if the contract currently holds more than the STABLE_CAP * 1.5. If it does, Leave STABLE_CAP in UST and deposit all other UST in Anchor.</p>
<pre><code class="language-rust">#[derive(Serialize, Deserialize, Clone, Debug, PartialEq, JsonSchema)]
#[serde(rename_all = &quot;snake_case&quot;)]
pub enum CallbackMsg {
    AfterSuccessfulLoanCallback {},
}
</code></pre>
<h2 id="querymsg">QueryMsg</h2>
<pre><code class="language-rust">#[cfg_attr(not(feature = &quot;library&quot;), entry_point)]
pub fn query(deps: Deps, _env: Env, msg: QueryMsg) -&gt; StdResult&lt;Binary&gt; {
    match msg {
        QueryMsg::PoolConfig {} =&gt; to_binary(&amp;try_query_config(deps)?),
        QueryMsg::PoolState {} =&gt; to_binary(&amp;try_query_pool_state(deps)?),
        QueryMsg::State {} =&gt; to_binary(&amp;try_query_state(deps)?),
        QueryMsg::Fees {} =&gt; to_binary(&amp;query_fees(deps)?),
        QueryMsg::VaultValue {} =&gt; to_binary(&amp;query_total_value(deps)?),
        QueryMsg::EstimateWithdrawFee { amount } =&gt; {
            to_binary(&amp;estimate_withdraw_fee(deps, amount)?)
        }
    }
}
</code></pre>
<h3 id="state_1"><code>State</code></h3>
<p>Returns the contract state.</p>
<pre><code class="language-rust">#[derive(Serialize, Deserialize, Clone, Debug, PartialEq, JsonSchema)]
#[serde(rename_all = &quot;snake_case&quot;)]
pub enum QueryMsg {
    State {} 
}
</code></pre>
<h3 id="vaultvalue"><code>VaultValue</code></h3>
<p>Returns the total value of UST and aUST held in the contract in UST.</p>
<pre><code class="language-rust">#[derive(Serialize, Deserialize, Clone, Debug, PartialEq, JsonSchema)]
#[serde(rename_all = &quot;snake_case&quot;)]
pub enum QueryMsg {
    VaultValue {} 
}
</code></pre>
<h3 id="poolconfig"><code>PoolConfig</code></h3>
<p>Gets the configuration for the Stablecoin Vault contract pool.</p>
<pre><code class="language-rust">#[derive(Serialize, Deserialize, Clone, Debug, PartialEq, JsonSchema)]
#[serde(rename_all = &quot;snake_case&quot;)]
pub enum QueryMsg {
    PoolConfig {} 
}
</code></pre>
<h3 id="poolinfo"><code>PoolInfo</code></h3>
<pre><code class="language-rust">#[derive(Serialize, Deserialize, Clone, PartialEq, JsonSchema)]
pub struct PoolInfo {
    pub asset_infos: [AssetInfo; 2],
    pub contract_addr: Addr,
    pub liquidity_token: Addr,
    pub stable_cap: Uint128
}
</code></pre>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>asset_infos</code></td>
<td align="left">[AssetInfo; 2]</td>
<td align="left">Collection of Assets in the Pool and their information. In our case UST and aUST</td>
</tr>
<tr>
<td align="left"><code>contract_addr</code></td>
<td align="left">Addr</td>
<td align="left">This contract's address</td>
</tr>
<tr>
<td align="left"><code>liquidity_token</code></td>
<td align="left">Addr</td>
<td align="left">Address of the LP token</td>
</tr>
<tr>
<td align="left"><code>stable_cap</code></td>
<td align="left">Uint128</td>
<td align="left">Stablecoin reserve/cap amount</td>
</tr>
</tbody>
</table>
<h3 id="poolstate"><code>PoolState</code></h3>
<p>Gets the pool state, including the balances of the holdings.</p>
<pre><code class="language-rust">#[derive(Serialize, Deserialize, Clone, Debug, PartialEq, JsonSchema)]
#[serde(rename_all = &quot;snake_case&quot;)]
pub enum QueryMsg {
    PoolState {} 
}
</code></pre>
<h3 id="poolresponse"><code>PoolResponse</code></h3>
<pre><code class="language-rust">#[derive(Serialize, Deserialize, Clone, PartialEq, JsonSchema)]
pub struct PoolResponse {
    pub asset_infos: [Asset; 2],
    pub contract_addr: Addr,
    pub liquidity_token: Addr,
    pub stable_cap: Uint128
}
</code></pre>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>asset_infos</code></td>
<td align="left">[AssetInfo; 2]</td>
<td align="left">Collection of Assets in the Pool and their information. In our case UST and aUST</td>
</tr>
<tr>
<td align="left"><code>contract_addr</code></td>
<td align="left">Addr</td>
<td align="left">This contract's address</td>
</tr>
<tr>
<td align="left"><code>liquidity_token</code></td>
<td align="left">Addr</td>
<td align="left">Address of the LP token</td>
</tr>
<tr>
<td align="left"><code>stable_cap</code></td>
<td align="left">Uint128</td>
<td align="left">Stablecoin reserve/cap amount</td>
</tr>
</tbody>
</table>
<h3 id="fees"><code>Fees</code></h3>
<p>Gets the fees structure set by the Stablecoin Vault contract.</p>
<h3 id="feeresponse"><code>FeeResponse</code></h3>
<pre><code class="language-rust">pub struct FeeResponse {
    pub fees: VaultFee,
}
</code></pre>
<h3 id="vaultfee"><code>VaultFee</code></h3>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>flash_loan_fee</code></td>
<td align="left">Fee</td>
<td align="left">Flashloan fee expected to be paid by non-whitelisted contracts</td>
</tr>
<tr>
<td align="left"><code>treasury_fee</code></td>
<td align="left">Fee</td>
<td align="left">Fee information related to Treasury fee distribution.</td>
</tr>
<tr>
<td align="left"><code>treasury_addr</code></td>
<td align="left">CanonicalAddr</td>
<td align="left">Address of the Community Fund Contract</td>
</tr>
</tbody>
</table>
<h3 id="estimatewithdrawfee"><code>EstimateWithdrawFee</code></h3>
<p>Query to provide an estimate of the Stablecoin Vault withdrawal fee minus tax.</p>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>amount</code></td>
<td align="left">Uint128</td>
<td align="left">Deposit amount to calculate a deposit fee for</td>
</tr>
</tbody>
</table>
<h3 id="estimatewithdrawfeeresponse"><code>EstimateWithdrawFeeResponse</code></h3>
<pre><code class="language-rust">pub struct EstimateWithdrawFeeResponse {
    pub fee: Vec&lt;Coin&gt;,
}
</code></pre>
<table>
<thead>
<tr>
<th align="left">Key</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>fee</code></td>
<td align="left">Vec</td>
<td align="left">Vector containing fee info in the form of Coins</td>
</tr>
</tbody>
</table>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../Stablecoin-Arb/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Terra Stablecoin Arbitrage Contracts" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Terra Stablecoin Arbitrage Contracts
            </div>
          </div>
        </a>
      
      
        
        <a href="../Vesting/" class="md-footer__link md-footer__link--next" aria-label="Next: Vesting" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Vesting
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://github.com/White-Whale-Defi-Platform" target="_blank" rel="noopener" title="White Whale&#39;s Github Org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    <a href="https://twitter.com/WhiteWhaleTerra" target="_blank" rel="noopener" title="White Whale&#39;s Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6e54b5cd.min.js"></script>
      
    
  </body>
</html>